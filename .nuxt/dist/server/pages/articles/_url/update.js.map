{"version":3,"file":"pages/articles/_url/update.js","sources":["webpack:///./node_modules/nuxt-dropzone/dropzone.css?d99f","webpack:///./node_modules/nuxt-dropzone/dropzone.css","webpack:///./pages/articles/_url/update.vue?c4da","webpack:///./pages/articles/_url/update.vue","webpack:///./pages/articles/_url/update.vue?eeb2","webpack:///./pages/articles/_url/update.vue?fdb5"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../css-loader/dist/cjs.js??ref--3-oneOf-1-1!../postcss-loader/src/index.js??ref--3-oneOf-1-2!./dropzone.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\nrequire(\"!../vue-style-loader/lib/addStylesServer.js\").default(\"7a3aee09\", content, true)","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@-webkit-keyframes passing-through{0%{opacity:0;transform:translateY(40px)}30%,70%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-40px)}}@keyframes passing-through{0%{opacity:0;transform:translateY(40px)}30%,70%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-40px)}}@-webkit-keyframes slide-in{0%{opacity:0;transform:translateY(40px)}30%{opacity:1;transform:translateY(0)}}@keyframes slide-in{0%{opacity:0;transform:translateY(40px)}30%{opacity:1;transform:translateY(0)}}@-webkit-keyframes pulse{0%{transform:scale(1)}10%{transform:scale(1.1)}20%{transform:scale(1)}}@keyframes pulse{0%{transform:scale(1)}10%{transform:scale(1.1)}20%{transform:scale(1)}}.dropzone,.dropzone *{box-sizing:border-box}.dropzone{min-height:150px;border:2px solid rgba(0,0,0,.3);background:#fff;padding:20px}.dropzone.dz-clickable{cursor:pointer}.dropzone.dz-clickable *{cursor:default}.dropzone.dz-clickable .dz-message,.dropzone.dz-clickable .dz-message *{cursor:pointer}.dropzone.dz-started .dz-message{display:none}.dropzone.dz-drag-hover{border-style:solid}.dropzone.dz-drag-hover .dz-message{opacity:.5}.dropzone .dz-message{text-align:center;margin:2em 0}.dropzone .dz-preview{position:relative;display:inline-block;vertical-align:top;margin:16px;min-height:100px}.dropzone .dz-preview:hover{z-index:1000}.dropzone .dz-preview.dz-file-preview .dz-image{border-radius:20px;background:#999;background:linear-gradient(180deg,#eee,#ddd)}.dropzone .dz-preview.dz-file-preview .dz-details{opacity:1}.dropzone .dz-preview.dz-image-preview{background:#fff}.dropzone .dz-preview.dz-image-preview .dz-details{transition:opacity .2s linear}.dropzone .dz-preview .dz-remove{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone .dz-preview .dz-remove:hover{text-decoration:underline}.dropzone .dz-preview:hover .dz-details{opacity:1}.dropzone .dz-preview .dz-details{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:rgba(0,0,0,.9);line-height:150%}.dropzone .dz-preview .dz-details .dz-size{margin-bottom:1em;font-size:16px}.dropzone .dz-preview .dz-details .dz-filename{white-space:nowrap}.dropzone .dz-preview .dz-details .dz-filename:hover span{border:1px solid hsla(0,0%,78.4%,.8);background-color:hsla(0,0%,100%,.8)}.dropzone .dz-preview .dz-details .dz-filename:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone .dz-preview .dz-details .dz-filename:not(:hover) span{border:1px solid transparent}.dropzone .dz-preview .dz-details .dz-filename span,.dropzone .dz-preview .dz-details .dz-size span{background-color:hsla(0,0%,100%,.4);padding:0 .4em;border-radius:3px}.dropzone .dz-preview:hover .dz-image img{transform:scale(1.05);-webkit-filter:blur(8px);filter:blur(8px)}.dropzone .dz-preview .dz-image{border-radius:20px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone .dz-preview .dz-image img{display:block}.dropzone .dz-preview.dz-success .dz-success-mark{-webkit-animation:passing-through 3s cubic-bezier(.77,0,.175,1);animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone .dz-preview.dz-error .dz-error-mark{opacity:1;-webkit-animation:slide-in 3s cubic-bezier(.77,0,.175,1);animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone .dz-preview .dz-error-mark,.dropzone .dz-preview .dz-success-mark{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone .dz-preview .dz-error-mark svg,.dropzone .dz-preview .dz-success-mark svg{display:block;width:54px;height:54px}.dropzone .dz-preview.dz-processing .dz-progress{opacity:1;transition:all .2s linear}.dropzone .dz-preview.dz-complete .dz-progress{opacity:0;transition:opacity .4s ease-in}.dropzone .dz-preview:not(.dz-processing) .dz-progress{-webkit-animation:pulse 6s ease infinite;animation:pulse 6s ease infinite}.dropzone .dz-preview .dz-progress{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:hsla(0,0%,100%,.9);-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone .dz-preview .dz-progress .dz-upload{background:#333;background:linear-gradient(180deg,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;transition:width .3s ease-in-out}.dropzone .dz-preview.dz-error .dz-error-message{display:block}.dropzone .dz-preview.dz-error:hover .dz-error-message{opacity:1;pointer-events:auto}.dropzone .dz-preview .dz-error-message{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(180deg,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone .dz-preview .dz-error-message:after{content:\\\"\\\";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}.vue-dropzone{border:2px solid #e5e5e5;font-family:Arial,sans-serif;letter-spacing:.2px;color:#777;transition:.2s linear}.vue-dropzone:hover{background-color:#f6f6f6}.vue-dropzone>i{color:#ccc}.vue-dropzone>.dz-preview .dz-image{border-radius:0;width:100%;height:100%}.vue-dropzone>.dz-preview .dz-image img:not([src]){width:200px;height:200px}.vue-dropzone>.dz-preview .dz-image:hover img{transform:none;-webkit-filter:none}.vue-dropzone>.dz-preview .dz-details{bottom:0;top:0;color:#fff;background-color:rgba(33,150,243,.8);transition:opacity .2s linear;text-align:left}.vue-dropzone>.dz-preview .dz-details .dz-filename{overflow:hidden}.vue-dropzone>.dz-preview .dz-details .dz-filename span,.vue-dropzone>.dz-preview .dz-details .dz-size span{background-color:transparent}.vue-dropzone>.dz-preview .dz-details .dz-filename:not(:hover) span{border:none}.vue-dropzone>.dz-preview .dz-details .dz-filename:hover span{background-color:transparent;border:none}.vue-dropzone>.dz-preview .dz-progress .dz-upload{background:#ccc}.vue-dropzone>.dz-preview .dz-remove{position:absolute;z-index:30;color:#fff;margin-left:15px;padding:10px;top:inherit;bottom:15px;border:2px solid #fff;text-decoration:none;text-transform:uppercase;font-size:.8rem;font-weight:800;letter-spacing:1.1px;opacity:0}.vue-dropzone>.dz-preview:hover .dz-remove{opacity:1}.vue-dropzone>.dz-preview .dz-error-mark,.vue-dropzone>.dz-preview .dz-success-mark{margin-left:auto;margin-top:auto;width:100%;top:35%;left:0}.vue-dropzone>.dz-preview .dz-error-mark svg,.vue-dropzone>.dz-preview .dz-success-mark svg{margin-left:auto;margin-right:auto}.vue-dropzone>.dz-preview .dz-error-message{margin-left:auto;margin-right:auto;left:0;width:100%;text-align:center}.vue-dropzone>.dz-preview .dz-error-message:after{display:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"wrapper style1\",attrs:{\"id\":\"intro\"}},[_vm._ssrNode(\"<div class=\\\"title\\\"><h1>Update Article</h1></div> \"),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<form action method=\\\"post\\\" enctype=\\\"multipart/form-data\\\">\",\"</form>\",[_vm._ssrNode(\"<div class=\\\"row gtr-50\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-12\\\">\",\"</div>\",[_c('dropzone',{ref:\"imgDropZone\",attrs:{\"id\":\"customdropzone\",\"options\":_vm.dropzoneOptions},on:{\"vdropzone-complete\":_vm.afterComplete,\"vdropzone-mounted\":_vm.vmounted,\"vdropzone-removed-file\":_vm.onRemove}})],1),_vm._ssrNode(\" <div class=\\\"col-6 col-12-small\\\"><input type=\\\"text\\\" placeholder=\\\"Header\\\" name=\\\"header\\\"\"+(_vm._ssrAttr(\"value\",(_vm.h1)))+\"></div> <div class=\\\"col-6 col-12-small\\\"><input type=\\\"text\\\" placeholder=\\\"Title\\\" name=\\\"title\\\"\"+(_vm._ssrAttr(\"value\",(_vm.title)))+\"></div> <div class=\\\"col-6 col-12-small\\\"><input type=\\\"text\\\" placeholder=\\\"Description\\\" name=\\\"description\\\"\"+(_vm._ssrAttr(\"value\",(_vm.description)))+\"></div> <div class=\\\"col-6 col-12-small\\\"><input type=\\\"text\\\" placeholder=\\\"Slug\\\" name=\\\"url\\\"\"+(_vm._ssrAttr(\"value\",(_vm.url)))+\"></div> <div class=\\\"col-12\\\"><textarea cols=\\\"30\\\" rows=\\\"4\\\" placeholder=\\\"Content\\\" name=\\\"content\\\">\"+_vm._ssrEscape(_vm._s(_vm.content))+\"</textarea></div> \"),_vm._ssrNode(\"<div class=\\\"col-12\\\">\",\"</div>\",[_vm._ssrNode(\"<ul class=\\\"actions\\\">\",\"</ul>\",[_vm._ssrNode(\"<li><button\"+(_vm._ssrAttr(\"disabled\",_vm.isDisabled))+\" class=\\\"btn btn-info\\\">\"+((_vm.addLoading)?(\"<span role=\\\"status\\\" aria-hidden=\\\"true\\\" class=\\\"spinner-border spinner-border-sm\\\"></span>\"):\"<!---->\")+\"Update\\n              </button></li> \"),_vm._ssrNode(\"<li>\",\"</li>\",[_c('nuxt-link',{staticClass:\"button style2\",attrs:{\"to\":\"/articles\"}},[_vm._v(\"Cancel\")])],1)],2)])],2)])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Dropzone from 'nuxt-dropzone'\r\nimport 'nuxt-dropzone/dropzone.css'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  async asyncData(context) {\r\n    const { data } = await context.$axios.get(\r\n      '/api/articles/' + context.route.params.url\r\n    )\r\n    return {\r\n      article: data,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      h1: '',\r\n      title: '',\r\n      description: '',\r\n      url: '',\r\n      content: '',\r\n      image: '',\r\n      isValid: false,\r\n      addLoading: false,\r\n      dropzoneOptions: {\r\n        url: 'https://httpbin.org/post',\r\n        maxFiles: 1,\r\n        maxFilesize: 2,\r\n        addRemoveLinks: true,\r\n        acceptedFiles: '.jpg, .jpeg, .png',\r\n        dictDefaultMessage: `<p class='text-default'><i class='fa fa-cloud-upload mr-2'></i> Drag cover image here or click to upload</p>\r\n          <p class=\"form-text\">Allowed Files: .jpg, .jpeg, .png</p>\r\n          <p class=\"form-text\">Allowed Size: < 2Mb</p>\r\n          `,\r\n      },\r\n    }\r\n  },\r\n  components: {\r\n    Dropzone,\r\n  },\r\n  computed: {\r\n    isDisabled: function () {\r\n      if (\r\n        this.h1 === '' ||\r\n        this.title === '' ||\r\n        this.description === '' ||\r\n        this.url === '' ||\r\n        this.content === '' ||\r\n        this.image === ''\r\n      ) {\r\n        return !this.isValid\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.fillFormData()\r\n  },\r\n  methods: {\r\n    fillFormData() {\r\n      this.h1 = this.article.h1\r\n      this.title = this.article.title\r\n      this.description = this.article.description\r\n      this.url = this.article.url\r\n      this.content = this.article.content\r\n    },\r\n    async afterComplete(upload) {\r\n      this.isLoading = true\r\n      try {\r\n        if (upload.size < this.dropzoneOptions.maxFilesize * 1024 * 1024) {\r\n          this.image = upload\r\n        } else {\r\n          swal('Error', 'Image size is to big', 'error')\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n        swal('Error', 'Something Went wrong', 'error')\r\n      }\r\n    },\r\n    vmounted() {\r\n      this.$nextTick(function () {\r\n        let mockFile = this.article.image\r\n          ? this.article.image\r\n          : { size: 123, type: 'image/jpg' }\r\n        let url = this.article.image\r\n          ? '/uploads/' + this.article.image.filename\r\n          : '/images/pic02.jpg'\r\n        this.$refs.imgDropZone.manuallyAddFile(mockFile, url)\r\n      })\r\n    },\r\n    addNewArticle() {\r\n      let formData = new FormData()\r\n      formData.append('h1', this.h1)\r\n      formData.append('title', this.title)\r\n      formData.append('description', this.description)\r\n      formData.append('url', this.url)\r\n      formData.append('content', this.content)\r\n      if (this.image.upload) {\r\n        formData.append('image', this.image)\r\n      }\r\n\r\n      this.$axios\r\n        .put('/api/articles/' + this.$route.params.url, formData)\r\n        .then((response) => {\r\n          if (response.status == 200) {\r\n            swal('Success', 'Article updated successfully', 'success')\r\n            this.$router.push({ name: 'articles', params: { updated: 'yes' } })\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n          swal('Error', 'Something Went wrong', 'error')\r\n        })\r\n    },\r\n    onRemove() {\r\n      this.image = ''\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./update.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./update.vue?vue&type=template&id=59eb2d27&\"\nimport script from \"./update.vue?vue&type=script&lang=js&\"\nexport * from \"./update.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"0e29f422\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AANA;AATA;AAqBA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAQA;AACA;AACA;AAZA;AACA;AAaA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AA3DA;AApDA;;AC7DA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}